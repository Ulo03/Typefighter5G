{"version":3,"sources":["actions.js","components/Results.jsx","components/Lobby.jsx","components/Game.jsx","components/Typefighter.jsx","components/Login.jsx","components/App.jsx","index.js"],"names":["setHost","val","type","data","setJoin","setGameId","id","setOpenGames","games","connect","state","openGames","gameId","props","Container","style","minWidth","className","grid","map","e","i","Row","e2","i2","Col","player","color","mapDispatchToProps","socket","host","join","players","key","d","socketID","hostSocketID","name","position","right","length","Button","onClick","emit","variant","ended","useEffect","on","newGames","minHeight","word","score","onKeyUp","event","document","getElementById","value","console","log","bind","this","autoFocus","placeholder","setSocket","setOnlineCount","count","username","socketURL","onlineCount","io","gameList","started","InputGroup","FormControl","aria-label","aria-describedby","Append","input","gameName","once","response","alert","createGame","Object","keys","maxPlayers","roomName","top","transform","setUsername","enterListener","code","preventDefault","click","addEventListener","removeEventListener","label","textContent","sendUsername","Form","Label","initialState","process","PORT","store","createStore","action","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1d8ca73a.chunk.js","sourcesContent":["// REDUX ACTIONS\r\nexport function setUsername(name) {\r\n  return {\r\n    type: \"SET_USERNAME\",\r\n    data: name\r\n  }\r\n}\r\n\r\nexport function setSocket(socket) {\r\n  return {\r\n    type: \"SET_SOCKET\",\r\n    data: socket\r\n  }\r\n}\r\n\r\nexport function setHost(val) {\r\n  return {\r\n    type: \"SET_HOST\",\r\n    data: val\r\n  }\r\n}\r\n\r\nexport function setJoin(val) {\r\n  return {\r\n    type: \"SET_JOIN\",\r\n    data: val\r\n  }\r\n}\r\n\r\nexport function setSocketURL(url) {\r\n  return {\r\n    type: \"SET_SOCKET_URL\",\r\n    data: url\r\n  }\r\n}\r\n\r\nexport function setGameId(id) {\r\n  return {\r\n    type: \"SET_GAME_ID\",\r\n    data: id\r\n  }\r\n}\r\n\r\nexport function setOpenGames(games) {\r\n  return {\r\n    type: \"SET_OPEN_GAMES\",\r\n    data: games\r\n  }\r\n}\r\n\r\nexport function setOnlineCount(count) {\r\n  return {\r\n    type: \"SET_ONLINE_COUNT\",\r\n    data: count\r\n  }\r\n}","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nvar change = true;\r\n\r\nfunction Results(props) {\r\n    return (\r\n      <Container style={{minWidth: \"50vw\"}} className=\"d-flex align-items-center flex-column text-center mt-5\">\r\n        <h3>Last Game</h3>\r\n        <div className=\"\">\r\n          {\r\n            props.openGames[props.gameId].grid.map((e, i) => {\r\n              return (<Row>\r\n                {\r\n                  e.map((e2, i2) => {\r\n                    return (<Col className={`rescol ${e2.player?.color}`}>&nbsp;</Col>);\r\n                  })\r\n                }\r\n              </Row>);\r\n            })\r\n          }\r\n        </div>\r\n      </Container>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    openGames: state.openGames,\r\n    gameId: state.gameId\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  \r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Results);","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setHost, setJoin, setGameId } from '../actions';\r\nimport { Container, Button } from 'react-bootstrap';\r\nimport Results from \"./Results\";\r\n\r\nfunction Lobby(props) {\r\n\r\n  function leaveGame() {\r\n    props.socket.emit('leaveGame', props.gameId);\r\n    props.setJoin(0);\r\n    props.setHost(0);\r\n    props.setGameId('');\r\n  }\r\n\r\n  function startGame() {\r\n    props.socket.emit(\"startGame\", props.gameId);\r\n    \r\n  }\r\n\r\n  return (\r\n    <Container className=\"d-flex flex-column align-items-center mt-3\">\r\n      <h1>{props.gameId}</h1>\r\n      <div className=\"card mt-4 border-primary w-25 mb-2\">\r\n        <div className=\"card-header bg-primary text-white text-center py-2\">\r\n          Players in this lobby:\r\n        </div>\r\n        <div className=\"list-group ml-2 my-1\">\r\n          {props.openGames[props.gameId]?.players.map((key, i) => {\r\n            let d = props.openGames[props.gameId]?.players[i];\r\n            if (d.socketID == props.openGames[props.gameId].hostSocketID) {\r\n              return (\r\n                <div className=\"my-1\">\r\n                  <span className={`badge badge-light p-2 ${d.color}`}>{d.name}</span>\r\n                  <span\r\n                    className=\"badge badge-secondary p-2 float-right\"\r\n                    style={{ position: 'relative', right: '0.5rem' }}\r\n                  >\r\n                    Host\r\n                  </span>\r\n                </div>\r\n              );\r\n            } else {\r\n              return (\r\n                <div className=\"my-1\">\r\n                  <span className={`badge badge-light p-2 ${d.color}`}>{d.name}</span>\r\n                </div>\r\n              );\r\n            }\r\n          })}\r\n        </div>\r\n      </div>\r\n      {(props.host && props.openGames[props.gameId]?.players.length >= 2) ? (\r\n        <Button onClick={startGame} id=\"startButton\" variant=\"outline-success\" className=\"w-25 mt-2\">\r\n          Start Game\r\n        </Button>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <Button\r\n        variant=\"outline-danger\"\r\n        onClick={leaveGame}\r\n        className=\"w-25 mt-2\"\r\n      >\r\n        Leave Game\r\n      </Button>\r\n      {(props.openGames[props.gameId]?.ended) ? <Results /> : \"\"}\r\n    </Container>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    socket: state.socket,\r\n    host: state.host,\r\n    join: state.join,\r\n    gameId: state.gameId,\r\n    openGames: state.openGames\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setHost,\r\n  setJoin,\r\n  setGameId\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Lobby);\r\n","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { setOpenGames } from \"../actions\";\r\nimport './styles/Game.css';\r\n\r\nfunction Game(props) {\r\n\r\n  useEffect(() => {\r\n    props.socket.on(\"objects\", (newGames) => {\r\n      props.setOpenGames(newGames);\r\n    });\r\n  });\r\n\r\n  function inputKeyUp(event) {\r\n    if (event.key === 'Enter') {\r\n      props.socket.emit(props.gameId + \":words\", document.getElementById(\"wordInput\").value);\r\n      console.log(document.getElementById(\"wordInput\").value);\r\n      document.getElementById(\"wordInput\").value = \"\"\r\n      console.log(document.getElementById(\"wordInput\").value);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container style={{minHeight: \"100vh\", minWidth: \"100vw\"}} className=\"m-0 d-flex align-items-center justify-content-between\">\r\n      <div className=\"w-85 mx-5\">\r\n        {\r\n          props.openGames[props.gameId].grid.map((e, i) => {\r\n            return (<Row>\r\n              {\r\n                e.map((e2, i2) => {\r\n                  return (<Col className={`gamecol ${e2.player?.color}`}>{e2.word}</Col>);\r\n                })\r\n              }\r\n            </Row>);\r\n          })\r\n        }\r\n      </div>\r\n      <div className=\"chat mx-5\">\r\n        <div className=\"scores\">\r\n          <div className=\"mb-2\">SCORES</div>\r\n          <div>\r\n            {props.openGames[props.gameId].players.map((e, i) => {\r\n              return (<div className={`text-left my-1 p-3 badge w-100 ${e.color}`}>\r\n              <span>{e.name}</span>\r\n              <span className={\"float-right\"}>{e.score} / 5</span>\r\n            </div>);\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"control\">\r\n          <input onKeyUp={inputKeyUp.bind(this)} id=\"wordInput\" autoFocus={true} placeholder=\"Enter a word...\" type=\"text\" className=\"w-100\"></input>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    openGames: state.openGames,\r\n    gameId: state.gameId,\r\n    socket: state.socket\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setOpenGames\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);","import React, { useEffect } from 'react';\r\nimport { io } from \"socket.io-client\";\r\nimport { connect } from \"react-redux\";\r\nimport { setSocket, setHost, setJoin, setOpenGames, setOnlineCount, setGameId } from \"../actions\";\r\nimport { Container, Button, InputGroup, FormControl } from \"react-bootstrap\";\r\nimport Lobby from \"./Lobby\";\r\nimport Game from \"./Game\";\r\n\r\nfunction Typefighter(props) {\r\n\r\n  useEffect(() => {\r\n    props.setSocket(io());\r\n  }, [props.socketURL]);\r\n\r\n  useEffect(() => {\r\n    if (!props.socket) return;\r\n    props.socket.on(\"connect\", () => {\r\n      props.socket.emit(\"sendUsername\", props.username);\r\n    });\r\n    \r\n    props.socket.on(\"gameUpdate\", (gameList) => {\r\n      if (props.join || props.host) return;\r\n      props.setOpenGames(gameList);\r\n    });\r\n    props.socket.on(\"onlineCount\", (count) => {\r\n      if (props.join || props.host) return;\r\n      props.setOnlineCount(count);\r\n    });\r\n\r\n    props.socket.on(\"setJoinHost\", (value) => {\r\n      if (value == \"join\") {\r\n        props.setJoin(true);\r\n        props.setHost(false);\r\n      } else if (value == \"host\") {\r\n        props.setHost(true);\r\n        props.setJoin(false);\r\n        console.log(\"now host\");\r\n      }\r\n    });\r\n\r\n  }, [props.socket]);\r\n\r\n  // useEffect(() => {\r\n  //   if (!props.socket) return;\r\n  //   if (props.host || props.join) return;\r\n\r\n  // }, [props.host, props.join]);\r\n\r\n  function createGame() {\r\n    let input = document.getElementById(\"gameName\");\r\n    if (!input.value) return;\r\n    let gameName = input.value;\r\n    props.socket.emit(\"createGame\", gameName);\r\n    props.socket.once(\"response\", (response) => {\r\n      if (response === \"200\") {\r\n        props.setGameId(gameName);\r\n        props.setHost(1);\r\n      } else {\r\n        alert(response);\r\n      }\r\n    });\r\n  }\r\n\r\n  function joinGame(roomName) {\r\n    props.socket.emit(\"joinGame\", roomName);\r\n    props.socket.once(\"response\", (response) => {\r\n      if (response === \"200\") {\r\n        props.setGameId(roomName);\r\n        props.setJoin(1);\r\n      } else {\r\n        alert(response);\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    (!props.host && !props.join) ?  (<Container style={{ minHeight: \"100vh\" }}>\r\n    <div className=\"text-center\">\r\n    <div className=\"d-flex flex-column align-items-center\">\r\n    <InputGroup className=\"w-50 d-flex align-items-center\">\r\n      <FormControl id=\"gameName\"\r\n        placeholder=\"Name your Lobby...\"\r\n        aria-label=\"Name your Lobby...\"\r\n        aria-describedby=\"basic-addon2\"\r\n        autoFocus={true}\r\n      />\r\n      <InputGroup.Append>\r\n        <Button id=\"createGameBtn\" variant=\"outline-primary\" className=\"my-4 position-relative\" onClick={() => createGame()}>HOST GAME<span className=\"ml-4 badge badge-primary p-1\">Online Players: {props.onlineCount}</span></Button>\r\n      </InputGroup.Append>\r\n    </InputGroup>\r\n    </div>\r\n      <div className=\"gameList d-flex flex-column align-items-center\">\r\n        {Object.keys(props.openGames).map((key, i) => {\r\n          let e = props.openGames[key];\r\n          if (e.players.length < e.maxPlayers) {\r\n            return (<div className=\"w-50 btn btn-outline-secondary my-1 position-relative\" key={e.socketID} onClick={() => joinGame(e.name)}>{e.name}<span className=\"ml-4 badge badge-secondary p-2\" style={{ position: \"absolute\", top: \"50%\", right: \"0.5rem\", transform: \"translate(0, -50%)\" }}>Players: {e.players.length}</span> </div>);\r\n          }\r\n        })}\r\n\r\n      </div>\r\n    </div>\r\n  </Container>) : (props.openGames[props.gameId]?.started) ? <Game /> : <Lobby /> \r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    username: state.username,\r\n    socketURL: state.socketURL,\r\n    socket: state.socket,\r\n    host: state.host,\r\n    join: state.join,\r\n    openGames: state.openGames,\r\n    onlineCount: state.onlineCount,\r\n    gameId: state.gameId\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setSocket,\r\n  setHost,\r\n  setJoin,\r\n  setOpenGames,\r\n  setOnlineCount,\r\n  setGameId\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Typefighter);","import React, { useEffect } from 'react'\r\nimport { Container, FormControl, InputGroup, Button, Form } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUsername } from \"../actions\";\r\n\r\nfunction Login(props) {\r\n\r\n  useEffect(() => {\r\n    console.log(\"login\");\r\n    const enterListener = event => {\r\n      console.log(\"enterListener event\");\r\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\r\n        console.log(\"Enter key was pressed. Run your function.\");\r\n        event.preventDefault();\r\n        document.getElementById(\"confirmButton\").click();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", enterListener);\r\n    console.log(\"enterListener added\");\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", enterListener);\r\n      console.log(\"enterListener removed\");\r\n    };\r\n  },[]);\r\n\r\n  function sendUsername() {\r\n    let name = document.getElementById(\"username\").value;\r\n    if (name.length > 0) {\r\n      props.setUsername(name);\r\n    }\r\n  }\r\n\r\n  function checkUsername() {\r\n    let name = document.getElementById(\"username\").value;\r\n    let label = document.getElementById(\"error\");\r\n    if (name.length <= 0) {\r\n      label.textContent = \"Please enter a username!\";\r\n    } else if (name.length > 16) {\r\n      label.textContent = \"Character limit for your username is 16!\";\r\n    } else {\r\n      sendUsername();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className=\"d-flex justify-content-center align-items-center flex-column\" style={{ minHeight: \"100vh\" }}>\r\n      <InputGroup className=\"mb-1 w-50\">\r\n        <FormControl id=\"username\"\r\n          placeholder=\"Username\"\r\n          aria-label=\"Username\"\r\n          aria-describedby=\"basic-addon2\"\r\n          autoFocus={true}\r\n        />\r\n        <InputGroup.Append>\r\n          <Button id=\"confirmButton\" variant=\"outline-secondary\" onClick={checkUsername}>CONFIRM USERNAME</Button>\r\n        </InputGroup.Append>\r\n      </InputGroup>\r\n      <Form.Label className=\"text-danger\" id=\"error\"></Form.Label>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setUsername\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Login);","import React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport Typefighter from \"./Typefighter\";\r\nimport Login from \"./Login\";\r\n\r\nfunction App(props) {\r\n  return (props.username ? <Typefighter /> : <Login />);\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    username: state.username\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(App);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport App from './components/App';\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst initialState = {\r\n  username: \"\",\r\n  socketURL: \"http://127.0.0.1:\" + (process.env.PORT || \"80\"),\r\n  socket: null,\r\n  onlineCount: 0,\r\n  host: 0,\r\n  join: 0,\r\n  gameId: \"\",\r\n  openGames: {}\r\n};\r\n\r\nfunction reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"SET_USERNAME\":\r\n      return { ...state, username: action.data };\r\n    case \"SET_SOCKET\":\r\n      return { ...state, socket: action.data };\r\n    case \"SET_HOST\":\r\n      return { ...state, host: action.data };\r\n    case \"SET_JOIN\":\r\n      return { ...state, join: action.data };\r\n    case \"SET_SOCKET_URL\":\r\n      return { ...state, socketURL: action.data };\r\n    case \"SET_GAME_ID\":\r\n      return { ...state, gameId: action.data };\r\n    case \"SET_OPEN_GAMES\":\r\n      return { ...state, openGames: action.data };\r\n    case \"SET_ONLINE_COUNT\":\r\n      return { ...state, onlineCount: action.data };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst store = createStore(reducer);\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}